<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"></script>
<div class="registerStudentForm">
   <form action="/student/add" method="Post" enctype="multipart/form-data" id="studentform">
      <div id="studentForm">
         <div class="panel panel-primary">
            <div class="panel-heading" style="background: darkblue;">Students Info</div>
            <div class="panel-body">
               <div class="row" style="padding: 9px;">
                  <div class="col-md-12 card">
                     <div class="pull-right"
                        style="border: 1px solid rgb(153, 145, 145); width:70px; height:70px; border-radius:5px;">
                        <img class="img-responsive" style="width:70px; height:70px;  border-radius:5px;" src=""
                           id="profile-img-tag" width="200px" />
                     </div>
                     <hr />
                  </div>
               </div>
               <div class="form-group col-md-6" hidden>
                  <input type="text" class="form-control " name="sponsorship_No" id="sponsorship_No"
                     placeholder="SholarShip Number Is Auto Generated By system " style=" text-transform: uppercase;"
                     hidden>
               </div>
               <div class="form-group col-md-6">
                  <input type="text" class="form-control " name="sponsorship_No" id="sponsorship_No"
                     placeholder="SholarShip Number Is Auto Generated By system" style=" text-transform: uppercase;"
                     disabled>
               </div>
               <div class="form-group m-0 p-0 col-md-6">
                  <input type="text" class="form-control" id="fullname" name="full_name" placeholder="Full Name"
                     style=" text-transform: uppercase;">
               </div>
               <div class="form-group col-md-6">
                  <input type="date" class="form-control" name="dob" placeholder="Date of Birth ">
               </div>
               <div class="form-group m-0 p-0 col-md-6">
                  <select class="form-control" name="gender" id="exampleFormControlSelect1">
                     <option>Choose Gender</option>
                     <option>Female</option>
                     <option>Male</option>
                     <option>Others</option>
                  </select>
               </div>
               <div class="form-group col-md-6">
                  <input type="text" class="form-control" name="religion" placeholder="Religion /Faith "
                     style=" text-transform: uppercase;">
               </div>
               <div class="form-group col-md-6">
                  <select class="form-control" name="student_class">
                     <option>Choose Education Level</option>
                     <option>Senior One</option>
                     <option>Senior Two</option>
                     <option>Senior Three</option>
                     <option>Senior Four</option>
                     <option>Senior Five</option>
                     <option>Senior Six</option>
                     <option>Nursary School</option>
                     <option>University</option>
                  </select>
               </div>
               <div class="form-group col-md-6">
                  <input type="text" class="form-control" name="residence"
                     placeholder="Place of Residence / Country and City " style=" text-transform: uppercase;">
               </div>
               <div class="form-group col-md-6">
                  <input type="text" class="form-control" name="contact" placeholder="Parents Contact ">
               </div>
               <div class="form-group col-md-6">
                  <input type="text" class="form-control" name="email" placeholder="Email @example.com"
                     style=" text-transform: lowercase;">
               </div>
               <div class="form-group col-md-6">
                  <label class="col-sm-4 col-form-label">Passport image</label>
                  <div class="col-sm-6">
                     <input type="file" name="passport_img" id="profile-img">
                  </div>
               </div>
               <span class="pull-right" onclick="next()" style="cursor: pointer;"> Next <i class="fa fa-arrow-right"
                     style="font-size:20px;color:darkblue;"></i></span>
            </div>
         </div>
      </div>
      <div id="parentForm" style="display: none;">
         <div class="panel panel-primary">
            <div class="panel-heading" style="background: darkblue;">Student's parent Info</div>
            <div class="panel-body">
               <div class="row" style="padding: 9px;">
                  <div class="col-md-12 card">
                     <div class="pull-right"
                        style="border: 1px solid black; width:70px; height:70px; border-radius:5px;">
                        <img src="/public/images/profile.jpg" alt=" Map  Image" />
                     </div>
                     <hr />
                  </div>
               </div>
               <div class="form-group col-md-6">
                  <input type="text" class="form-control" name="p_first_name" placeholder="Parent's First Name"
                     style=" text-transform: uppercase;">
               </div>
               <div class="form-group m-0 p-0 col-md-6">
                  <input type="text" class="form-control" name="p_second_name" placeholder="Parent's Second Name"
                     style=" text-transform: uppercase;">
               </div>
               <div class="form-group col-md-6">
                  <input type="number" class="form-control" name="p_age" placeholder="Age ">
               </div>
               <div class="form-group col-md-6">
                  <input type="text" class="form-control" name="p_occupation" placeholder="Occupation "
                     style=" text-transform: uppercase;">
               </div>
               <div class="form-group m-0 p-0 col-md-6">
                  <select class="form-control" name="p_relationship" id="exampleFormControlSelect1">
                     <option>Relationship to Child</option>
                     <option>Father</option>
                     <option>Mother</option>
                     <option>Gurdian</option>
                  </select>
               </div>
               <div class="form-group col-md-6">
                  <input type="number" class="form-control" name="p_no_siblings" placeholder="Number of Siblings ">
               </div>
               <div class="form-group col-md-6">
                  <input type="text" class="form-control" name="p_contact" placeholder="Contact ie +256 07xxxx "
                     style=" text-transform: uppercase;">
               </div>
               <div class="form-group col-md-6">
                  <input type="text" class="form-control" name="p_residence"
                     placeholder="Place of Residence / Country and City " style=" text-transform: uppercase;">
               </div>
               <div class="form-group col-md-6">
                  <input type="text" class="form-control" name="p_email" placeholder="Parents emial @xxx ">
               </div>
               <div class="form-group col-md-6">
                  <label for="customFile" class="col-sm-5 col-form-label">Map attouchment</label>
                  <div class="col-sm-6">
                     <input type="file" name="p_map">
                  </div>
               </div>
               <button onclick="submitstudent()" class="btn btn-default pull-right"
                  style="background:darkblue;color:aliceblue;">
                  <i class="fa fa-sign-out" aria-hidden="true"></i>
                  register</button>
               <span class="pull-left" onclick="back()" style="cursor: pointer;"> <i class="fa fa-arrow-left"
                     style="font-size:20px;color:darkblue;"></i> Back </span>

            </div>
         </div>
      </div>
   </form>
</div>

<script>
   function generateCode() {

      var dateObj = new Date();
      var date = dateObj.getDate();
      var month = dateObj.getMonth();
      var year = dateObj.getFullYear();
      var fulldate = `${date} ${month} ${year}`;
      var randomnumber = Math.round(Math.random() * 1000);
      var fullname = document.getElementById('fullname').value;
      var Firstletter = fullname.charAt(0);
      var scholarshipNumber = `UG-${date}-${month}-${year}-${Firstletter}-${randomnumber}`;
      document.getElementById("sponsorship_No").value = scholarshipNumber;


   }

   function submitstudent() {
      generateCode();
      document.getElementById("studentform").submit();

   }

   //auto display seleceted image
   function readURL(input) {
      if (input.files && input.files[0]) {
         var reader = new FileReader();

         reader.onload = function (e) {
            $('#profile-img-tag').attr('src', e.target.result);
         }
         reader.readAsDataURL(input.files[0]);
      }
   }
   $("#profile-img").change(function () {
      readURL(this);
   });

</script>